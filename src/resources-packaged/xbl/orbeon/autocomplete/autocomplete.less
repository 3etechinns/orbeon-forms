// Copyright (C) 2012 Orbeon, Inc.
//
// This program is free software; you can redistribute it and/or modify it under the terms of the
// GNU Lesser General Public License as published by the Free Software Foundation; either version
// 2.1 of the License, or (at your option) any later version.
//
// This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
// without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
// See the GNU Lesser General Public License for more details.
//
// The full text of the license is available at http://www.gnu.org/copyleft/lesser.html

@import (reference) "../../../../resources/apps/fr/style/form-runner-common";

.xbl-fr-autocomplete {

    display: inline-block;
    width: 100%;

    // Use table layout as Flexbox doesn't work with IE < 11
    .fr-autocomplete-container {
        display: table;
        width: 100%;
        &> .yui-ac {
            position: static;
            display: table-row;
            &> .fr-autocomplete-search, &> .fr-autocomplete-show-suggestions-button {
                display: table-cell;
            }
        }
    }

    // Make cell with field take all the space possible
    .fr-autocomplete-search {
        width: 100%;
    }

    // Override position: absolute in YUI, otherwise the the input is taken out of the flow and content after the
    // autocomplete will show under the input field. Only the yui-ac-content is position:absolute, not the .yui-ac.
    // The downside of this technique is that we can't automatically size the suggestion box based on the width of the input
    // field, and need to set the width of the input field and the suggestion box.
    .xforms-input-input {
        position: static;
        width: 100%;
    }

    // For testing, to keep the suggestion list open while interacting with Firefox, disable the `display: none` on
    // <span class="yui-ac-content">.
    .yui-ac-content {
        width: auto;
        min-width: 200px;
        max-width: 400px;
        overflow-y: auto;
        max-height: 200px;
        .box-sizing(border-box);
    }

    .fr-autocomplete-show-suggestions-button button {
        width: 40px;                            // Enough to see the button and arrow
        height: @baseLineHeight + 8px;
        margin-left: 3px;                       // Get the button to show as if it was merged with the text field (well, almost)
        padding-top: 0; padding-bottom: 0;      // Remove top padding so the bottom shows vertically centered
    }
}
